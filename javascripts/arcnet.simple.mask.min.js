/**
 * Created by Weslley Neri on 19/02/14.
 */
(function(e){var t=function(t,n,r){var i=this,s;t=e(t);n="function"===typeof n?n(t.val(),void 0,t,r):n;i.init=function(){r=r||{};i.byPassKeys=[9,16,17,18,36,37,38,39,40,91];i.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};i.translation=e.extend({},i.translation,r.translation);i=e.extend(!0,{},i,r);t.each(function(){!1!==r.maxlength&&t.attr("maxlength",n.length);t.attr("autocomplete","off");o.destroyEvents();o.events();o.val(o.getMasked())})};var o={getCaret:function(){var e;e=0;var n=t.get(0),r=document.selection,i=n.selectionStart;if(r&&!~navigator.appVersion.indexOf("MSIE 10"))n.focus(),e=r.createRange(),e.moveStart("character",-n.value.length),e=e.text.length;else if(i||"0"===i)e=i;return e},setCaret:function(e){var n;n=t.get(0);n.setSelectionRange?(n.focus(),n.setSelectionRange(e,e)):n.createTextRange&&(n=n.createTextRange(),n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select())},events:function(){t.on("keydown.arcnetmask",function(){s=o.val()});t.on("keyup.arcnetmask",o.behaviour);t.on("paste.arcnetmask",function(){setTimeout(function(){t.keydown().keyup()},100)})},destroyEvents:function(){t.off("keydown.arcnetmask keyup.arcnetmask paste.arcnetask")},val:function(n){var r=t.is(e.zepto?"input":":input");return 0<arguments.length?r?t.val(n):t.text(n):r?t.val():t.text()},behaviour:function(t){t=t||window.event;var n=t.keyCode||t.which;if(-1===e.inArray(n,i.byPassKeys)){var r,s=o.getCaret();s<o.val().length&&(r=!0);var u=o.getMasked();u!==o.val()&&o.val(u);!r||65===n&&t.ctrlKey||o.setCaret(s);return o.callbacks(t)}},getMasked:function(e){var t=[],s=o.val(),u=0,a=n.length,f=0,l=s.length,c=1,p="push",v=-1,m,y;r.reverse?(p="unshift",c=-1,m=0,u=a-1,f=l-1,y=function(){return-1<u&&-1<f}):(m=a-1,y=function(){return u<a&&f<l});for(;y();){var b=n.charAt(u),w=s.charAt(f),E=i.translation[b];if(E)w.match(E.pattern)?(t[p](w),E.recursive&&(-1===v?v=u:u===m&&(u=v-c),m===v&&(u-=c)),u+=c):E.optional&&(u+=c,f-=c),f+=c;else{if(!e)t[p](b);w===b&&(f+=c);u+=c}}e=n.charAt(m);a!==l+1||i.translation[e]||t.push(e);return t.join("")},callbacks:function(e){var i=o.val(),u=o.val()!==s;if(!0===u&&"function"===typeof r.onChange)r.onChange(i,e,t,r);if(!0===u&&"function"===typeof r.onKeyPress)r.onKeyPress(i,e,t,r);if("function"===typeof r.onComplete&&i.length===n.length)r.onComplete(i,e,t,r)}};w={isNumber:function(e){var t=e.which?e.which:event.keyCode;if(t>31&&(t<48||t>57))return false;return true}};i.remove=function(){o.destroyEvents();o.val(i.getCleanVal()).removeAttr("maxlength")};i.getCleanVal=function(){return o.getMasked(!0)};i.init()};e.fn.arcnetmask=function(n,r){return this.each(function(){e(this).data("mask",new t(this,n,r))})};e.fn.arcnetunmask=function(){return this.each(function(){try{e(this).data("mask").remove()}catch(t){}})};e.fn.cleanVal=function(){return e(this).data("mask").getCleanVal()};e("*[data-mask]").each(function(){var t=e(this),n={};"true"===t.attr("data-mask-reverse")&&(n.reverse=!0);"false"===t.attr("data-mask-maxlength")&&(n.maxlength=!1);t.mask(t.attr("data-mask"),n)})})(window.jQuery||window.Zepto);$(window).bind("load",function(){var t=["(00) 00000-0000","(00) 0000-00009"];$('[data-inputmask="celular"], [data-inputmask="cellphone"]').arcnetmask(t[1],{onKeyPress:function(e,n,r,i){r.arcnetmask(e.length>14?t[0]:t[1],i)}});$('[data-inputmask^="#"]').arcnetmask($('[data-inputmask^="#"]').data("inputmask"));$('[data-inputmask="cnpj"]').arcnetmask("00.000.000/0000-00");$('[data-inputmask="cpf"]').arcnetmask("000.000.000-00");$('[data-inputmask="telefone"], [data-inputmask="phone"]').arcnetmask("(00) 0000-0000");$('[data-inputmask="fax"]').arcnetmask("(00) 0000-0000");$('[data-inputmask="ncm"]').arcnetmask("00000000");$('[data-inputmask="data"]').arcnetmask("00/00/0000");$('[data-inputmask="date"]').arcnetmask("0000/00/00");$('[data-inputmask="hora"]').arcnetmask("00:00:00");$('[data-inputmask="time"]').arcnetmask("00:00:00");$('[data-inputmask="data_hora"]').arcnetmask("00/00/0000 00:00:00");$('[data-inputmask="date_time"]').arcnetmask("0000/00/00 00:00:00");$('[data-inputmask="cep"]').arcnetmask("00000-000");$('[data-inputmask="porcentagem"], [data-inputmask="percent"]').arcnetmask("##0,00%",{reverse:true,maxlength:false});$('[data-inputmask="dinheiro"], [data-inputmask="money"]').arcnetmask("#.##0,00",{reverse:true,maxlength:false});$('[data-inputmask-restrict="numeros"], [data-inputmask-restrict="numbers"]').keypress(function(e){return w.isNumber(e)});$('[data-inputmask-restrict="letras"], [data-inputmask-restrict="letters"]').keypress(function(e){e=e?e:event;var t=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0;if(t>31&&(t<65||t>90)&&(t<97||t>122)){return false}return true});$('[data-inputmask="money3"], [data-inputmask="dinheiro3"]').val("0,00");$('[data-inputmask="money3"], [data-inputmask="dinheiro3"]').keypress(function(e){if(!w.isNumber(e))return false;var t=false;var n=e.keyCode?e.keyCode:e.which?e.which:e.charCode;var r=String.fromCharCode(e.keyCode||e.which);if(document.getSelection().toString()!="")$(this).val("0,00");if(r.length<10||n==8||n==46||n==9){if(n>=48&&n<=57||n>=96&&n<=105||n==8||n==46){var i;i=$(this).val()+r;i=i.replace(",","").replace(".","");while(i.substring(0,1)=="0"){i=i.substring(1,i.length)}var s;switch(i.length){case 0:var o=i;s=t?"0,000":"0,00";break;case 1:var o=i;s=t?"0,00"+o:"0,0"+o;break;case 2:var o=i;s=t?"0,0"+o:"0,"+o;break;case 3:if(t){var o=i;s="0,"+o}else{var u=i.substring(0,i.length-2);var o=i.substring(i.length-2);s=u+","+o}break;default:var u=i.substring(0,i.length-(t?3:2));var o=i.substring(i.length-(t?3:2));s=u+","+o;break}$(this).val(s);if(i.length>=6)$(this).arcnetmask("#.##0,00",{reverse:true,maxlength:false});return false}}}).keydown(function(e){var t=e.keyCode?e.keyCode:e.which?e.which:e.charCode;var n="";size=$(this).val().replace(",","").replace(".","").length;number=$(this).val().replace(",","").replace(".","").substring(0,size-1);if(size<=3)if(t===8){switch(size-1){case 3:n="0,0"+number;break;case 2:n="0,"+number;break}$(this).val(n);return false}});$('[data-inputmask-restrict="alfanumerico"], [data-inputmask-restrict="alphanumeric"]').keypress(function(t){e=t||window.event;var n=/[^\sa-z\d]/i,r=String.fromCharCode(e.keyCode||e.which);if(e.which!==0&&e.charCode!==0&&n.test(r)){return false}return true});$("[data-inputmask-restrictwords]").keypress(function(e){var t=true;var n=String.fromCharCode(e.keyCode||e.which);var r=$("[data-inputmask-restrictwords], [data-inputmask-restrictwords]").data("inputmask-restrictwords").replace(/\s+/g,"");var i=r.split("");$.each(i,function(e,r){if(n===r){t=false;return false}return true});return t})})